services:

  codely.mooc.infrastructure.database:
    class: Doctrine\ORM\EntityManager
    factory: [CodelyTv\Context\Mooc\Infrastructure\Doctrine\VideoEntityManagerFactory, create]
    arguments:
      -
        driver:   '%video_database_driver%'
        host:     '%video_database_host%'
        port:     '%video_database_port%'
        dbname:   '%video_database_name%'
        user:     '%video_database_user%'
        password: '%video_database_password%'
      - '%codely.mooc.root_path%'
      - '%codely.mooc.infrastructure.database.on_demand%'
      - '%codely.mooc.infrastructure.database.schema_file%'
    tags:
      - { name: codely.mooc.database }
    public: true
