services:
  _defaults:
    autoconfigure: true

  # Command Handlers

  codely.mooc.videos.command_handler.create_video:
    class: CodelyTv\Mooc\Videos\Application\Create\CreateVideoCommandHandler
    arguments:
      - '@codely.mooc.videos.video_creator'


  # Query Handlers

  codely.mooc.videos.query_handler.find:
    class: CodelyTv\Mooc\Videos\Application\Find\FindVideoQueryHandler
    arguments:
      - '@codely.mooc.videos.video_finder'


  # Services

  codely.mooc.videos.video_creator:
    class: CodelyTv\Mooc\Videos\Application\Create\VideoCreator
    arguments:
      - '@codely.mooc.videos.repository'
      - '@codely.mooc.domain_event_publisher'

  codely.mooc.videos.video_finder:
    class: CodelyTv\Mooc\Videos\Application\Find\VideoFinder
    arguments:
      - '@codely.mooc.videos.repository'
