services:

  codely.mooc.notifications.repository:
    class: CodelyTv\Mooc\Notifications\Infrastructure\Persistence\MySqlNotificationRepository
    arguments:
      - '@codely.mooc.infrastructure.database'

  codely.mooc.notifications.notifier:
    alias: codely.mooc.notifications.slack_notifier

  codely.mooc.notifications.email_notifier:
    class: CodelyTv\Mooc\Notifications\Infrastructure\Notifier\EmailNotifier
    arguments:
      - '%video_notification_email_username%'
      - '%video_notification_email_password%'

  codely.mooc.notifications.slack_notifier:
    class: CodelyTv\Mooc\Notifications\Infrastructure\Notifier\SlackNotifier
    arguments:
      - '%slack_video_notification_hook_url%'
      - username: '%slack_video_notification_username%'
        channel: '%slack_video_notification_channel%'
