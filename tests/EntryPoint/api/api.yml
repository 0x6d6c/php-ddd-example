api:
  extensions:
    Behat\Symfony2Extension:
      kernel:
        class: CodelyTv\Api\ApiKernel
    Behat\MinkExtension:
      sessions:
        my_session:
          symfony2: ~
    Behat\BootstrapExtension\Extension:
      bootstrap_file: applications/bootstrap.php

  suites:
    status:
      paths: [ tests/EntryPoint/api/features/status ]
      contexts:
        - CodelyTv\Test\Infrastructure\Behat\ApiFeatureContext:
            connections: '@codely.infrastructure.database_connections'
            publisher: '@codely.mooc.domain_event_publisher'
            bus: '@codely.mooc.event_bus'
        - CodelyTv\Test\Infrastructure\Behat\ApiContext\ApiRequestContext
        - CodelyTv\Test\Infrastructure\Behat\ApiContext\ApiResponseContext
    video:
      paths: [ tests/EntryPoint/api/features/video ]
      contexts:
        - CodelyTv\Test\Infrastructure\Behat\ApiFeatureContext:
            connections: '@codely.infrastructure.database_connections'
            publisher: '@codely.mooc.domain_event_publisher'
            bus: '@codely.mooc.event_bus'
        - CodelyTv\Test\Infrastructure\Behat\ApiContext\ApiRequestContext
        - CodelyTv\Test\Infrastructure\Behat\ApiContext\ApiResponseContext
    user:
      paths: [ tests/EntryPoint/api/features/user ]
      contexts:
        - CodelyTv\Test\Infrastructure\Behat\ApiFeatureContext:
            connections: '@codely.infrastructure.database_connections'
            publisher: '@codely.mooc.domain_event_publisher'
            bus: '@codely.mooc.event_bus'
        - CodelyTv\Test\Infrastructure\Behat\ApiContext\ApiRequestContext
        - CodelyTv\Test\Infrastructure\Behat\ApiContext\ApiResponseContext
        - CodelyTv\Test\Context\Video\Module\User\UserModuleBehatContext:
            repository: '@codely.mooc.user.repository'
